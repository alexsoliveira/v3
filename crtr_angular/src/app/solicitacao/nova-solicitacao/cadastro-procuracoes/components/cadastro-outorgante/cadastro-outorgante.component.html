<form [formGroup]="formOutorgante">

  <h2 class="espacos-entre-campos">Outorgante</h2>

  <mat-card-content>
    <div fxLayout="row wrap" fxLayoutAlign="start space-between">

      <mat-form-field appearance="outline" fxFlex="13.6%" fxFlex.xs="100%" fxFlex.sm="173px"
        class="espacos-entre-campos">
        <mat-label>Tipo de Documento</mat-label>
        <mat-select (selectionChange)="validarTipoDocumento($event)" formControlName="idTipoDocumento" required>
          <mat-option *ngFor="let tipo of selectTipoDocumentos" [value]="tipo.valor">{{tipo.texto}}</mat-option>
        </mat-select>
        <mat-error *ngIf="outorganteFormControl.hasError('required')">
          Por favor, informe o <strong>Tipo de Documento</strong>.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" fxFlex="21%" fxFlex.xs="100%" fxFlex.sm="173px" class="espacos-entre-campos">
        <mat-label>Documento</mat-label>
        <input matInput formControlName="documento" required maxlength="20"
          (blur)="dadosUsuarioSolicitante();piv.interagiuComControle(formOutorgante, 'documento')"
          [patterns]="piv.customPatternsDocumento" mask="0{20}">
        <mat-error *ngIf="outorganteFormControl.hasError('required')">
          Por favor, informe o <strong>Documento</strong>.
        </mat-error>
      </mat-form-field>

      <!-- <div *ngIf="exibirCampos"> -->
        <mat-form-field [style.display]="exibirRg && exibirCampos ? 'block':'none'" appearance="outline" fxFlex="13.6%"
          fxFlex.xs="100%" fxFlex.sm="173px" class="espacos-entre-campos">
          <mat-label>RG</mat-label>
          <input matInput formControlName="rgOutorgante" [required]="this.dadosUsuarioLogado || exibirCampos"
            maxlength="12" [patterns]="piv.customPatternsRg" mask="0{12}">
          <mat-error *ngIf="this.dadosUsuarioLogado
                          && outorganteFormControl.hasError('required')">
            Por favor, informe o <strong>RG</strong>.
          </mat-error>
        </mat-form-field>

        <!-- <div [style.display]="exibirCampos ? 'block':'none'" fxFlex="13.6%" fxFlex.xs="100%" fxFlex.sm="207px"
          class="espacos-entre-campos">
          <button mat-raised-button class="btnSuccess botao-tamanho" (click)="assinarDigitalmente()">
            <mat-icon>create</mat-icon>
            <span> Assinar digitalmente</span>
          </button>
        </div> -->

      <!-- </div> -->


    </div>
  </mat-card-content>

  <mat-card-content>
    <div fxLayout="row wrap" fxLayoutAlign="space-between center">

      <mat-form-field appearance="outline" fxFlex="30%" fxFlex.xs="100%" fxFlex.sm="50%" class="espacos-entre-campos">
        <mat-label>Nome completo</mat-label>
        <input matInput formControlName="nomeOutorgante" required maxlength="100" [patterns]="piv.customPatternsNome"
          mask="0{100}" (blur)="piv.interagiuComControle(formOutorgante, 'nomeOutorgante')">
        <mat-error *ngIf="outorganteFormControl.hasError('required')">
          Por favor, informe o <strong>Nome Completo</strong>.
        </mat-error>
      </mat-form-field>

      <mat-form-field [style.display]=" exibirCampoEmail ? 'block':'none'" appearance="outline" fxFlex="30%"
        fxFlex.xs="100%" fxFlex.sm="50%" class="espacos-entre-campos">
        <mat-label>E-mail</mat-label>
        <input matInput formControlName="emailOutorgante" [required]="exibirCampoEmail" maxlength="50"
          [patterns]="piv.customPatternsEmail" mask="0{50}">
        <mat-error *ngIf="outorganteFormControl.hasError('required')">
          Por favor, informe o <strong>E-mail</strong>.
        </mat-error>
      </mat-form-field>


      <mat-form-field [style.display]="exibirCampos ? 'block':'none'" appearance="outline" fxFlex="20%" fxFlex.xs="100%"
        fxFlex.sm="50%" class="espacos-entre-campos">

        <mat-label>Nascimento</mat-label>
        <input matInput formControlName="nascimentoOutorgante" [required]="this.dadosUsuarioLogado || exibirCampos"
          maxlength="10" mask="00/00/0000"
          (blur)="validarDataPadraoBrasileiro(formOutorgante,'nascimentoOutorgante');">
        <mat-error *ngIf="this.dadosUsuarioLogado
                          && outorganteFormControl.hasError('required')">
          Por favor, informe o <strong>Nascimento</strong>.
        </mat-error>
      </mat-form-field>

      <mat-form-field [style.display]="exibirCampos ? 'block':'none'" appearance="outline" fxFlex="20%" fxFlex.xs="100%"
        fxFlex.sm="50%" class="espacos-entre-campos">
        <mat-label>Estado Civil</mat-label>
        <mat-select formControlName="estadoCivilOutorgante" [required]="this.dadosUsuarioLogado || exibirCampos">
          <mat-option *ngFor="let tipo of selectEstadoCivil" [value]="tipo.valor">{{tipo.texto}}</mat-option>
        </mat-select>
        <mat-error *ngIf="outorganteFormControl.hasError('required')">
          Por favor, informe o <strong>Estado Civil</strong>.
        </mat-error>
      </mat-form-field>

    </div>
  </mat-card-content>

  <mat-card-content>

    <div fxLayout="row wrap" fxLayoutAlign="space-between center">


      <mat-form-field [style.display]="exibirCampos ? 'block':'none'" appearance="outline" fxFlex="30%" fxFlex.xs="100%"
        fxFlex.sm="50%" class="espacos-entre-campos">

        <mat-label>Nacionalidade</mat-label>
        <input matInput formControlName="nacionalidade" [required]="this.dadosUsuarioLogado || exibirCampos"
          maxlength="60" [patterns]="piv.customPatternsNacionalidade" mask="0{60}">
        <mat-error *ngIf="outorganteFormControl.hasError('required')">
          Por favor, informe a <strong>Nacionalidade</strong>.
        </mat-error>
      </mat-form-field>

      <mat-form-field [style.display]="exibirCampos ? 'block':'none'" appearance="outline" fxFlex="30%" fxFlex.xs="100%"
        fxFlex.sm="50%" class="espacos-entre-campos">
        <mat-label>Profissão</mat-label>
        <input matInput formControlName="profissaoOutorgante" [required]="this.dadosUsuarioLogado || exibirCampos"
          maxlength="60" [patterns]="piv.customPatternsProfissao" mask="0{60}">
        <mat-error *ngIf="outorganteFormControl.hasError('required')">
          Por favor, informe a <strong>Profissão</strong>.
        </mat-error>
      </mat-form-field>

      <mat-form-field [style.display]="exibirCampos ? 'block':'none'" appearance="outline" fxFlex="20%" fxFlex.xs="100%"
        fxFlex.sm="50%" class="espacos-entre-campos">
        <mat-label>Celular</mat-label>
        <input matInput formControlName="celular" [required]="this.dadosUsuarioLogado || exibirCampos" maxlength="20"
          [patterns]="piv.customPatternsCelular" mask="0{20}">
        <mat-error *ngIf="outorganteFormControl.hasError('required')">
          Por favor, informe o <strong>Celular</strong>.
        </mat-error>
      </mat-form-field>

      <mat-form-field [style.display]="exibirCampos ? 'block':'none'" appearance="outline" fxFlex="20%" fxFlex.xs="100%"
        fxFlex.sm="50%" class="espacos-entre-campos">
        <mat-label>Fone Alternativo</mat-label>
        <input matInput formControlName="foneAlternativo" maxlength="20"
          [patterns]="piv.customPatternsTelefoneAlternativo" mask="0{20}">
      </mat-form-field>

    </div>
  </mat-card-content>

  <mat-card-content>
    <div fxLayout="row wrap" fxLayoutAlign="space-between center">

      <div [style.display]="exibirCampos ? 'block':'none'" fxLayout="row" fxFlex="100%" style="margin-bottom: 15px;">
        <mat-card [style.display]="exibirCampos ? 'block':'none'" class='mat-elevation-z8' style="width: 100%;">
          <mat-card-title [style.display]="exibirCampos ? 'block':'none'" class="tituloCard">

            <div style="display: flex;">
              <button [style.display]="exibirCampos ? 'block':'none'" class='btnCorGreen btnAdicionarEndereco'
                mat-raised-button (click)="NovoEndereco()">
                <mat-icon>add_box</mat-icon>
                Adicionar novo endereço
              </button>
            </div>
          </mat-card-title>
          <mat-card-content [style.display]="exibirCampos ? 'block':'none'" style="width: 100%;">
            <div fxLayout="row" fxFlex="100%" style="padding: 1rem; max-height: 390px; overflow-y: auto; width: 100%;">
              <mat-radio-group class="radio-group" style="width: 100%;">
                <app-endereco-item [bsRemoverEndereco]='bsRemoverEndereco' [bsAlterarEndereco]='bsAlterarEndereco'
                  [bsSelecionarEndereco]='bsSelecionarEndereco' [objEnd]='endereco' [indice]='i'
                  *ngFor="let endereco of listEnderecos; index as i">
                </app-endereco-item>
              </mat-radio-group>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <div fxLayout="row" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%"
        class="espacos-entre-campos div-btn-add-outorgante">

        <button mat-raised-button class="btnSuccess btn-add-outorgante" (click)="adicionarOutorgante()">
          <mat-icon>add</mat-icon>
          <span> Adicionar outorgante</span>
        </button>

      </div>
    </div>
  </mat-card-content>

  <mat-card-content>
    <app-datagrid-outorgante #datagrid [dataSource]="listaDataGridOutorgantes"
      (EventoDeletarParte)="removerOutorgante($event)">
    </app-datagrid-outorgante>
  </mat-card-content>

</form>
